<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Item — {{ item.name }}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <header class="header">
    <div class="container header__inner">
      <a class="brand" href="{{ url_for('main.goto_browse_items_page') }}">
          <img class="brand__logo" src="{{ url_for('static', filename='assets/mulebay_logo.svg') }}"alt="Mulebay Logo">
          <span>Mulebay</span>
      </a>
      <nav class="nav" aria-label="Primary">
        <a href="{{ url_for('main.goto_browse_items_page') }}">Browse</a>
        <a href="{{ url_for('profile.goto_profile_page') }}">Profile</a>
      </nav>
      <div class="actions">
          {% if current_user.is_authenticated %}
              <a href="{{ url_for('auth.logout') }}" id="logout-button" class="badge">Logout</a>
          {% else %}
              <a href="{{ url_for('auth.login') }}" id="login-button" class="badge">Login</a>
          {% endif %}
      </div>
    </div>
  </header>

  <main class="page container">
    <div class="product">
      <section class="gallery" aria-label="Image gallery">
        <div class="gallery__stage">
          <img src="{{ item.item_photos }}" alt="{{ item.name }}" class="item-image">
        </div>
      </section>

      <aside class="buybox card" aria-label="Purchase panel">
        <h1 class="buybox__title">{{ item.name }}</h1>
        <div class="price">${{ "%.2f"|format(item.price) }}</div>
        <button class="btn" id="buy">Message Seller</button>
        
        <div class="specs">
          <div><strong>Condition: </strong>{{ item.condition }}</div>

          <div><strong>Seller:</strong> 
            <a href="{{ url_for('profile.goto_profile_page') }}">
              {{ seller.first_name }} {{ seller.last_name }}
            </a>
          </div>

          <div><strong>Payment Options:</strong> 
            <div class="payment-icons">
            {% for option in item.payment_options %}
              <div class="payment-option">
                {% if option == 'Cash' %}
                  <img src="{{ url_for('static', filename='assets/cash.svg') }}" alt="Cash" class="icon">
                {% elif option == 'Venmo' %}
                  <img src="{{ url_for('static', filename='assets/venmo.svg') }}" alt="Venmo" class="icon">
                {% elif option == 'Zelle' %}
                  <img src="{{ url_for('static', filename='assets/zelle.svg') }}" alt="Zelle" class="icon">
                {% endif %}
                <span>{{ option }}</span>
              </div>
            {% endfor %}
          </div>
        </div>
        
        <section class="prose">
          <h2>Details</h2>
          <p>{{ item.description }}</p>
        </section>
      </aside>
    </div>
  </main>

  <footer class="footer">
    <div class="container footer__inner">
      <span>© <span id="year"></span> Mulebay</span>
      <a href="{{ url_for('main.goto_browse_items_page') }}">Back to browse</a>
    </div>
  </footer>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>