<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Edit Profile</title>

  <!-- Fonts + main styles -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/static/styles.css">
  <link rel="icon" type="image/x-icon" href="/static/assets/favicon.ico">
</head>
<body data-page="edit-profile">
  <!-- Header -->
  <header class="header">
    <div class="container header__inner">
      <a class="brand" href="/">
        <img class="brand__logo" src="/static/assets/mulebay_logo.svg" alt="Mulebay Logo">
        <span>Mulebay</span>
      </a>
      <nav class="nav" aria-label="Primary">
        <a href="/">Browse</a>
        <a href="/profile" aria-current="page">Profile</a>
      </nav>
      <div class="actions">
        <a href="/logout" class="badge">Logout</a>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="page container">
    <h1 class="page__title">Edit profile</h1>

    <section class="profile profile--edit">
      <!-- Left: avatar preview with hover overlay -->
      <div class="avatar">
        <div class="avatar-frame">
          <img
            id="edit-profile-avatar-preview"
            src="/static/assets/avatar.svg"
            alt="Profile avatar preview"
            class="profile__avatar">

          <div class="avatar-overlay">
            <span>Change photo</span>
          </div>
        </div>

        <p class="muted" style="margin-top: 8px;">
          Hover and click to upload a new photo.
        </p>
      </div>

      <!-- Right: form -->
      <div class="prose">
        <form
          id="edit-profile-form"
          action="/profile/edit"
          method="post"
          enctype="multipart/form-data"
          class="create-item-form">

          <!-- Public bio -->
          <label for="edit-profile-bio">
            Public bio
            <textarea
              id="edit-profile-bio"
              name="profile_description"
              rows="4"
              maxlength="2000"
              placeholder="Tell buyers a bit about you, what you sell, or how you prefer to meet up.">
            </textarea>
          </label>

          <!-- Hidden file input, triggered by hover overlay -->
          <input
            type="file"
            id="avatar-input"
            name="avatar"
            accept="image/png,image/jpeg"
            hidden>

          <p class="muted">
            Upload a square image if possible. Non-square images will be cropped to a square.
          </p>

          <!-- Actions -->
          <div style="display:flex; gap:10px; margin-top: 10px;">
            <a href="/profile" class="btn btn--ghost">Cancel</a>
            <button type="submit" class="btn">Save changes</button>
          </div>
        </form>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container footer__inner">
      <span>Â© <span id="year"></span> Mulebay</span>
      <a href="/">Browse items</a>
    </div>
  </footer>

  <script src="/static/script.js"></script>
</body>
</html>
